{"ast":null,"code":"import * as Types from './../constants/ActionType';\nimport callApi from './../ultis/apiCaller';\nexport const acFetchProductsRequest = () => {\n  console.log('fffffff');\n  return next => {\n    console.log('gggggg');\n    callApi('getdata', 'GET', null).then(res => {\n      console.log('da  vao action');\n      next(acFetchProducts(res.data));\n    });\n  };\n};\nexport const acInsertProductsRequest = data => {\n  console.log(data);\n  const value = 'end';\n  var status = {};\n  next(acInsertProducts({}, ''));\n  return next => {\n    next(acInsertProducts({}, '')); //  callApi('insertdata', 'POST', data).then(res =>{\n    //      console.log(res);\n    //    if(res.status == 200){\n    //      status = {\n    //         status : 'success',\n    //         classcomponent : 'alert alert-success',\n    //         text : 'Thêm mới dữ liệu thành công ^-^',\n    //         display : 'show-alert'\n    //     }\n    //     next(acInsertProducts(res.data, status))\n    //     status = {\n    //         status : 'success',\n    //         classcomponent : 'alert alert-success',\n    //         text : 'Thêm mới dữ liệu thành công ^-^',\n    //         display : 'hide-alert'\n    //     }\n    //         console.log('sau disptach');\n    //     setTimeout(function(){\n    //         next(acInsertProducts(res.data,status))\n    //     }, 2000);\n    //    }\n    //    else{\n    //        console.log('k lay duoc du lieu tu server')\n    //     status = {\n    //         status : 'error',\n    //         classcomponent : 'alert alert-danger',\n    //         text : 'Thêm mới dữ liệu thất bại ! (T-T)'\n    //     }\n    //     next(acInsertProducts([{}], status));\n    //    }\n    // }).catch((err) =>{console.log(err)});\n  };\n};\nexport const acInsertProducts = (product, status) => {\n  return {\n    type: Types.INSERT_PRODUCT,\n    product,\n    status\n  };\n};\nexport const acFetchProducts = product => {\n  return {\n    type: Types.FETCH_PRODUCTS,\n    product\n  };\n};\nexport const acDeleteProductsRequest = id => {\n  return next => {\n    callApi('deletedata', 'POST', id).then(res => {\n      console.log(res.data);\n      next(actDeleteProduct(res.data));\n    });\n  };\n};\nexport const actDeleteProduct = product => {\n  return {\n    type: Types.DELETE_PRODUCT,\n    product\n  };\n};\nexport const acUpdateProductsRequest = table => {\n  return next => {\n    callApi('updatedata', 'POST', table).then(res => {\n      console.log(res);\n      next(actUpdateProduct(res.data));\n    }).catch(err => {\n      console.log(table);\n    });\n  };\n};\nexport const actUpdateProduct = product => {\n  return {\n    type: Types.UPDATE_PRODUCT,\n    product\n  };\n};\nexport const acSearchProductsRequest = name => {\n  return next => {\n    callApi('searchdata', 'POST', name).then(res => {\n      console.log(res);\n      next(acFetchProducts(res.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const acFetchTableRequest = data => {\n  return next => {\n    callApi('gettable', 'POST', data).then(res => {\n      console.log(res);\n      next(acFetchTable(res.data, data));\n    });\n  };\n};\nexport const acFetchTable = (tables, index) => {\n  return {\n    type: Types.FETCH_TABLES,\n    tables: {\n      data: tables.data,\n      count: tables.count,\n      index: index.index\n    }\n  };\n};","map":{"version":3,"sources":["C:/Doan1/QuanLyQuanCafe/ql_cafe/src/actions/index.js"],"names":["Types","callApi","acFetchProductsRequest","console","log","next","then","res","acFetchProducts","data","acInsertProductsRequest","value","status","acInsertProducts","product","type","INSERT_PRODUCT","FETCH_PRODUCTS","acDeleteProductsRequest","id","actDeleteProduct","DELETE_PRODUCT","acUpdateProductsRequest","table","actUpdateProduct","catch","err","UPDATE_PRODUCT","acSearchProductsRequest","name","acFetchTableRequest","acFetchTable","tables","index","FETCH_TABLES","count"],"mappings":"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","sourcesContent":["import * as Types from './../constants/ActionType';\r\nimport callApi from './../ultis/apiCaller';\r\nexport const acFetchProductsRequest = () => {\r\n   console.log('fffffff')\r\n    return next =>{\r\n        console.log('gggggg')\r\n\r\n         callApi('getdata', 'GET', null).then(res =>{\r\n             console.log('da  vao action');\r\n           \r\n           next(acFetchProducts(res.data));\r\n          \r\n        });\r\n\r\n    };\r\n}\r\nexport const acInsertProductsRequest = (data) => {\r\n    console.log(data);\r\n    const value = 'end';\r\n    var status  = {};\r\n    next(acInsertProducts({}, ''))\r\n    return next =>{\r\n                   next(acInsertProducts({}, ''))\r\n\r\n        //  callApi('insertdata', 'POST', data).then(res =>{\r\n        //      console.log(res);\r\n        //    if(res.status == 200){\r\n\r\n        //      status = {\r\n        //         status : 'success',\r\n        //         classcomponent : 'alert alert-success',\r\n        //         text : 'Thêm mới dữ liệu thành công ^-^',\r\n        //         display : 'show-alert'\r\n        //     }\r\n            \r\n\r\n        //     next(acInsertProducts(res.data, status))\r\n            \r\n        //     status = {\r\n        //         status : 'success',\r\n        //         classcomponent : 'alert alert-success',\r\n        //         text : 'Thêm mới dữ liệu thành công ^-^',\r\n        //         display : 'hide-alert'\r\n        //     }\r\n        //         console.log('sau disptach');\r\n        //     setTimeout(function(){\r\n\r\n\r\n\r\n        //         next(acInsertProducts(res.data,status))\r\n\r\n        //     }, 2000);\r\n        //    }\r\n        //    else{\r\n        //        console.log('k lay duoc du lieu tu server')\r\n        //     status = {\r\n        //         status : 'error',\r\n        //         classcomponent : 'alert alert-danger',\r\n        //         text : 'Thêm mới dữ liệu thất bại ! (T-T)'\r\n        //     }\r\n            \r\n        //     next(acInsertProducts([{}], status));\r\n        //    }\r\n\r\n           \r\n          \r\n        // }).catch((err) =>{console.log(err)});\r\n\r\n    };\r\n    \r\n}\r\nexport const acInsertProducts = (product, status) =>{\r\n    \r\n    return {\r\n        type : Types.INSERT_PRODUCT,\r\n        product,\r\n        status\r\n    }\r\n}\r\nexport const acFetchProducts = (product) =>{\r\n    \r\n    return {\r\n        type : Types.FETCH_PRODUCTS,\r\n        product\r\n    }\r\n}\r\nexport const acDeleteProductsRequest = (id) => {\r\n   \r\n    return next =>{\r\n       \r\n         callApi('deletedata', 'POST', id).then(res =>{\r\n             console.log(res.data);\r\n           \r\n           next(actDeleteProduct(res.data));\r\n          \r\n        });\r\n\r\n    };\r\n}\r\nexport const actDeleteProduct = (product) =>{\r\n    return {\r\n        type : Types.DELETE_PRODUCT,\r\n        product\r\n    }\r\n}\r\nexport const acUpdateProductsRequest = (table) =>{\r\n\r\n    return next =>{\r\n       \r\n        callApi('updatedata', 'POST', table).then(res =>{\r\n            console.log(res);\r\n          \r\n          next(actUpdateProduct(res.data));\r\n         \r\n       }).catch((err) => {console.log(table)})\r\n\r\n   };\r\n\r\n}\r\nexport const actUpdateProduct = (product) =>{\r\n    return {\r\n        type : Types.UPDATE_PRODUCT,\r\n        product\r\n    }\r\n}\r\nexport const acSearchProductsRequest = (name) =>{\r\n\r\n    return next =>{\r\n       \r\n        callApi('searchdata', 'POST', name).then(res =>{\r\n            console.log(res);\r\n          \r\n          next(acFetchProducts(res.data));\r\n         \r\n       }).catch((err) => {console.log(err)})\r\n\r\n   };\r\n\r\n}\r\nexport const acFetchTableRequest = (data) => {\r\n   \r\n    return next =>{\r\n       \r\n         callApi('gettable', 'POST',data ).then(res =>{\r\n             console.log(res);\r\n           \r\n           next(acFetchTable(res.data, data));\r\n          \r\n        });\r\n\r\n    };\r\n}\r\nexport const acFetchTable = (tables, index) =>{\r\n    \r\n    return {\r\n        type : Types.FETCH_TABLES,\r\n        tables : {\r\n            data : tables.data,\r\n            count : tables.count,\r\n            index : index.index\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}